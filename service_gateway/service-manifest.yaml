## Service Manifest: Gateway
## Front door for Access Layer: authN, authZ, rate limiting, caching.
service_name: gateway
domain: access
runtime: python
language_version: "3.12"
api_contracts:
  - gateway-core@1.0.0
events_in:
  - pricing.curve.updates.v1
events_out:
  - metrics.request.count.v1
dependencies:
  internal: [auth, entitlements, metrics, projection]
  external: [redis, clickhouse]
maturity: stable
sla:
  p95_latency_ms: 150
  availability: "99.0%"
owner: platform
performance:
  targets:
    - name: http_p95_latency
      metric: http_req_duration
      threshold_ms: 150
      runner: k6
      script: access/performance/k6/gateway_latency_smoke.js
      description: Gateway program metrics smoke test enforcing 150ms p95
